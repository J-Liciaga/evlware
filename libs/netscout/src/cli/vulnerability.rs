use crate::config::Settings;
use clap::{
    Command,
    Arg,
    ArgAction,
    ArgMatches,
};

pub fn command() -> Command {
    Command::new("vuln")
        .arg(
            Arg::new("target")
                .short('t')
                .long("target")
                .value_name("URL")
                .required(true)
                .action(ArgAction::Set)
                .help("Sets the target URL or IP address to scan")
        )
}

pub async fn execute(
    matches: &ArgMatches,
    config: &Settings,
) -> Result<(), Box<dyn std::error::Error>> {
    let target = matches.get_one::<String>("target").unwrap();

    println!(
        "Running Vulnerability Scan for target: {}, with Settings: {:?}", 
        target, 
        config,
    );

    Ok(())
}
